# 1. –ß—Ç–æ —Ç–∞–∫–æ–µ gRPC?

## ü§î gRPC - —á—Ç–æ —ç—Ç–æ?

**gRPC** (Google Remote Procedure Call) - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π Google. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –∏ —Å–µ—Ä–≤–µ—Ä–∞–º –æ–±—â–∞—Ç—å—Å—è –∫–∞–∫ –±—É–¥—Ç–æ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ.

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç gRPC?

### –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π REST API:
```
–ö–ª–∏–µ–Ω—Ç ‚Üí HTTP –∑–∞–ø—Ä–æ—Å ‚Üí –°–µ—Ä–≤–µ—Ä
–ö–ª–∏–µ–Ω—Ç ‚Üê HTTP –æ—Ç–≤–µ—Ç ‚Üê –°–µ—Ä–≤–µ—Ä
```

### gRPC:
```
–ö–ª–∏–µ–Ω—Ç ‚Üí –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Üí –°–µ—Ä–≤–µ—Ä
–ö–ª–∏–µ–Ω—Ç ‚Üê –†–µ–∑—É–ª—å—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏–∏ ‚Üê –°–µ—Ä–≤–µ—Ä
```

## üèóÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã gRPC

### 1. **Protocol Buffers (Protobuf)**
- –Ø–∑—ã–∫ –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (IDL)
- –ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

### 2. **HTTP/2**
- –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –æ–¥–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏)
- –°–∂–∞—Ç–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- Server Push
- –ë–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª

### 3. **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- IDE –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤)

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å REST

| –ê—Å–ø–µ–∫—Ç | REST | gRPC |
|--------|------|------|
| **–ü—Ä–æ—Ç–æ–∫–æ–ª** | HTTP/1.1 | HTTP/2 |
| **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö** | JSON/XML | Protocol Buffers |
| **–¢–∏–ø–∏–∑–∞—Ü–∏—è** | –°–ª–∞–±–∞—è | –°—Ç—Ä–æ–≥–∞—è |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | –ú–µ–¥–ª–µ–Ω–Ω–µ–µ | –ë—ã—Å—Ç—Ä–µ–µ |
| **–†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö** | –ë–æ–ª—å—à–µ | –ú–µ–Ω—å—à–µ |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | –ü–æ–ª–Ω–∞—è |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –ü—Ä–æ—Å—Ç–∞—è | –°—Ä–µ–¥–Ω—è—è |

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ gRPC

### 1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
```protobuf
// Protobuf - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
message Event {
  string id = 1;
  string title = 2;
  int64 start_time = 3;
}
```

### 2. **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**
```go
// –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å —Ç–∏–ø–∞–º–∏
func (s *Server) CreateEvent(ctx context.Context, req *CreateEventRequest) (*CreateEventResponse, error) {
    // req.Title - —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
    // req.StartTime - —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
}
```

### 3. **–ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ**
```go
// –û–¥–∏–Ω HTTP/2 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
conn, _ := grpc.Dial("localhost:50051", grpc.WithInsecure())
client := api.NewEventServiceClient(conn)

// –í—Å–µ —ç—Ç–∏ –≤—ã–∑–æ–≤—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
client.CreateEvent(ctx, req1)
client.GetEvent(ctx, req2)
client.ListEvents(ctx, req3)
```

### 4. **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞**
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–¥ –∏–∑ .proto —Ñ–∞–π–ª–∞
protoc --go_out=. --go-grpc_out=. EventService.proto

# –ü–æ–ª—É—á–∞–µ–º –≥–æ—Ç–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –º–µ—Ç–æ–¥—ã
# - EventServiceClient (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤)
# - EventServiceServer (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤)
# - –í—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
```

## üîß –¢–∏–ø—ã gRPC –≤—ã–∑–æ–≤–æ–≤

### 1. **Unary RPC** (–∫–∞–∫ –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
```protobuf
rpc CreateEvent(CreateEventRequest) returns (CreateEventResponse);
```
```go
// –ö–ª–∏–µ–Ω—Ç
response, err := client.CreateEvent(ctx, request)

// –°–µ—Ä–≤–µ—Ä
func (s *Server) CreateEvent(ctx context.Context, req *CreateEventRequest) (*CreateEventResponse, error) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞
    return response, nil
}
```

### 2. **Server Streaming RPC** (—Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö)
```protobuf
rpc ListEvents(ListEventsRequest) returns (stream Event);
```

### 3. **Client Streaming RPC** (–∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö)
```protobuf
rpc UploadEvents(stream Event) returns (UploadResponse);
```

### 4. **Bidirectional Streaming RPC** (–¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –ø–æ—Ç–æ–∫)
```protobuf
rpc Chat(stream Message) returns (stream Message);
```

## üöÄ –ü–æ—á–µ–º—É gRPC –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ?

### 1. **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- –°—Ç—Ä–æ–≥–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è

### 2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- –ë–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –±—ã—Å—Ç—Ä–µ–µ JSON
- HTTP/2 –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 3. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- –û—à–∏–±–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ IDE
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìù –ü—Ä–∏–º–µ—Ä –∏–∑ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### Protobuf –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
```protobuf
service EventService {
  rpc CreateEvent(CreateEventRequest) returns (CreateEventResponse);
  rpc GetEvent(GetEventRequest) returns (GetEventResponse);
  rpc ListEvents(ListEventsRequest) returns (ListEventsResponse);
}
```

### –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥:
```go
// –ö–ª–∏–µ–Ω—Ç
client := api.NewEventServiceClient(conn)
response, err := client.CreateEvent(ctx, &api.CreateEventRequest{
    Title: "Meeting",
    UserId: "user123",
})

// –°–µ—Ä–≤–µ—Ä
type Server struct {
    api.UnimplementedEventServiceServer
}

func (s *Server) CreateEvent(ctx context.Context, req *api.CreateEventRequest) (*api.CreateEventResponse, error) {
    // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    return &api.CreateEventResponse{Event: event}, nil
}
```

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

gRPC - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–æ–∑–¥–∞–Ω–∏—é API, –∫–æ—Ç–æ—Ä—ã–π:
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –≤—ã–∑–æ–≤–æ–≤

–í –Ω–∞—à–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ gRPC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å HTTP API, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –≤—ã–±–∏—Ä–∞—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è —Å–≤–æ–∏—Ö –Ω—É–∂–¥. 