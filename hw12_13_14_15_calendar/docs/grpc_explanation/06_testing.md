# 6. Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

## ğŸ§ª Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Testing Pyramid                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Integration Tests                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚ â”‚
â”‚  â”‚  â”‚   HTTP API      â”‚  â”‚   gRPC API      â”‚          â”‚ â”‚
â”‚  â”‚  â”‚   Tests         â”‚  â”‚   Tests         â”‚          â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Unit Tests                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚ â”‚
â”‚  â”‚  â”‚   Application   â”‚  â”‚   Storage       â”‚          â”‚ â”‚
â”‚  â”‚  â”‚   Tests         â”‚  â”‚   Tests         â”‚          â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Manual Tests                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚ â”‚
â”‚  â”‚  â”‚   curl          â”‚  â”‚   grpcurl       â”‚          â”‚ â”‚
â”‚  â”‚  â”‚   Commands      â”‚  â”‚   Commands      â”‚          â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Unit Ñ‚ĞµÑÑ‚Ñ‹

### 1. **Application Ñ‚ĞµÑÑ‚Ñ‹**
```go
// internal/app/app_test.go
func TestApplication_CreateEvent(t *testing.T) {
    // Arrange
    logger := &mockLogger{}
    storage := &mockStorage{}
    app := New(logger, storage)
    
    ctx := context.Background()
    id := "test-id"
    title := "Test Event"
    description := "Test Description"
    userID := "user123"
    startTime := time.Now()
    duration := calendar_types.CalendarDuration(time.Hour)
    notifyBefore := calendar_types.CalendarDuration(15 * time.Minute)
    
    // Act
    err := app.CreateEvent(ctx, id, title, description, userID, startTime, duration, notifyBefore)
    
    // Assert
    assert.NoError(t, err)
    assert.Equal(t, 1, storage.addEventCalled)
}

func TestApplication_CreateEvent_ValidationError(t *testing.T) {
    // Arrange
    logger := &mockLogger{}
    storage := &mockStorage{}
    app := New(logger, storage)
    
    ctx := context.Background()
    
    // Act - Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº
    err := app.CreateEvent(ctx, "id", "", "desc", "user", time.Now(), time.Hour, 15*time.Minute)
    
    // Assert
    assert.Error(t, err)
    assert.Contains(t, err.Error(), "title is required")
}
```

### 2. **Storage Ñ‚ĞµÑÑ‚Ñ‹**
```go
// internal/storage/memory/storage_test.go
func TestMemoryStorage_AddEvent(t *testing.T) {
    // Arrange
    logger := &mockLogger{}
    storage := New(logger)
    
    event := storage.Event{
        ID:           "test-id",
        Title:        "Test Event",
        Description:  "Test Description",
        UserID:       "user123",
        StartTime:    time.Now(),
        Duration:     calendar_types.CalendarDuration(time.Hour),
        NotifyBefore: calendar_types.CalendarDuration(15 * time.Minute),
    }
    
    // Act
    err := storage.AddEvent(context.Background(), event)
    
    // Assert
    assert.NoError(t, err)
    
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼, Ñ‡Ñ‚Ğ¾ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾
    retrievedEvent, err := storage.GetEventByID(context.Background(), "test-id")
    assert.NoError(t, err)
    assert.Equal(t, event.Title, retrievedEvent.Title)
}

func TestMemoryStorage_AddEvent_DuplicateID(t *testing.T) {
    // Arrange
    logger := &mockLogger{}
    storage := New(logger)
    
    event := storage.Event{ID: "test-id", Title: "Test Event"}
    storage.AddEvent(context.Background(), event)
    
    // Act - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ñ Ñ‚ĞµĞ¼ Ğ¶Ğµ ID
    err := storage.AddEvent(context.Background(), event)
    
    // Assert
    assert.Error(t, err)
    assert.Contains(t, err.Error(), "event already exists")
}
```

## ğŸ”— Integration Ñ‚ĞµÑÑ‚Ñ‹

### 1. **HTTP API Ñ‚ĞµÑÑ‚Ñ‹**
```go
// internal/server/http/server_test.go
func TestHTTPServer_CreateEvent(t *testing.T) {
    // Arrange
    logger := &mockLogger{}
    application := &mockApplication{}
    server := NewServer(logger, "localhost", 0, application)
    
    // Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ ÑĞµÑ€Ğ²ĞµÑ€ Ğ½Ğ° ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ¾Ğ¼ Ğ¿Ğ¾Ñ€Ñ‚Ñƒ
    listener, err := net.Listen("tcp", ":0")
    require.NoError(t, err)
    
    go func() {
        http.Serve(listener, server.Router())
    }()
    defer listener.Close()
    
    // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ¿Ğ¾Ñ€Ñ‚ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
    port := listener.Addr().(*net.TCPAddr).Port
    
    // Act
    requestBody := `{
        "title": "Test Event",
        "description": "Test Description",
        "user_id": "user123",
        "start_time": "2025-07-15T12:00:00Z",
        "duration": "1h0m0s",
        "notify_before": "15m0s"
    }`
    
    resp, err := http.Post(
        fmt.Sprintf("http://localhost:%d/events", port),
        "application/json",
        strings.NewReader(requestBody),
    )
    
    // Assert
    require.NoError(t, err)
    defer resp.Body.Close()
    
    assert.Equal(t, http.StatusCreated, resp.StatusCode)
    
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ¾Ñ‚Ğ²ĞµÑ‚
    var response EventResponse
    err = json.NewDecoder(resp.Body).Decode(&response)
    require.NoError(t, err)
    
    assert.Equal(t, "Test Event", response.Title)
    assert.Equal(t, "user123", response.UserID)
}

func TestHTTPServer_CreateEvent_ValidationError(t *testing.T) {
    // Arrange
    logger := &mockLogger{}
    application := &mockApplication{}
    server := NewServer(logger, "localhost", 0, application)
    
    listener, err := net.Listen("tcp", ":0")
    require.NoError(t, err)
    
    go func() {
        http.Serve(listener, server.Router())
    }()
    defer listener.Close()
    
    port := listener.Addr().(*net.TCPAddr).Port
    
    // Act - Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ±ĞµĞ· Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ°
    requestBody := `{
        "description": "Test Description",
        "user_id": "user123",
        "start_time": "2025-07-15T12:00:00Z",
        "duration": "1h0m0s",
        "notify_before": "15m0s"
    }`
    
    resp, err := http.Post(
        fmt.Sprintf("http://localhost:%d/events", port),
        "application/json",
        strings.NewReader(requestBody),
    )
    
    // Assert
    require.NoError(t, err)
    defer resp.Body.Close()
    
    assert.Equal(t, http.StatusBadRequest, resp.StatusCode)
    
    body, err := io.ReadAll(resp.Body)
    require.NoError(t, err)
    assert.Contains(t, string(body), "title is required")
}
```

### 2. **gRPC API Ñ‚ĞµÑÑ‚Ñ‹**
```go
// internal/server/grpc/server_test.go
func TestGRPCServer_CreateEvent(t *testing.T) {
    // Arrange
    logger := &mockLogger{}
    application := &mockApplication{}
    server := NewServer(logger, "localhost", 0, application)
    
    // Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ gRPC ÑĞµÑ€Ğ²ĞµÑ€
    listener, err := net.Listen("tcp", ":0")
    require.NoError(t, err)
    
    grpcServer := grpc.NewServer()
    api.RegisterEventServiceServer(grpcServer, server)
    
    go func() {
        grpcServer.Serve(listener)
    }()
    defer grpcServer.Stop()
    
    // ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ÑÑ Ğº ÑĞµÑ€Ğ²ĞµÑ€Ñƒ
    conn, err := grpc.Dial(listener.Addr().String(), grpc.WithInsecure())
    require.NoError(t, err)
    defer conn.Close()
    
    client := api.NewEventServiceClient(conn)
    
    // Act
    startTime := timestamppb.New(time.Date(2025, 7, 15, 12, 0, 0, 0, time.UTC))
    duration := durationpb.New(time.Hour)
    notifyBefore := durationpb.New(15 * time.Minute)
    
    req := &api.CreateEventRequest{
        Title:        "Test Event",
        Description:  "Test Description",
        UserId:       "user123",
        StartTime:    startTime,
        Duration:     duration,
        NotifyBefore: notifyBefore,
    }
    
    resp, err := client.CreateEvent(context.Background(), req)
    
    // Assert
    require.NoError(t, err)
    assert.NotNil(t, resp.Event)
    assert.Equal(t, "Test Event", resp.Event.Title)
    assert.Equal(t, "user123", resp.Event.UserId)
}

func TestGRPCServer_CreateEvent_ValidationError(t *testing.T) {
    // Arrange
    logger := &mockLogger{}
    application := &mockApplication{}
    server := NewServer(logger, "localhost", 0, application)
    
    listener, err := net.Listen("tcp", ":0")
    require.NoError(t, err)
    
    grpcServer := grpc.NewServer()
    api.RegisterEventServiceServer(grpcServer, server)
    
    go func() {
        grpcServer.Serve(listener)
    }()
    defer grpcServer.Stop()
    
    conn, err := grpc.Dial(listener.Addr().String(), grpc.WithInsecure())
    require.NoError(t, err)
    defer conn.Close()
    
    client := api.NewEventServiceClient(conn)
    
    // Act - Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ±ĞµĞ· Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ°
    req := &api.CreateEventRequest{
        Description:  "Test Description",
        UserId:       "user123",
        StartTime:    timestamppb.New(time.Now()),
        Duration:     durationpb.New(time.Hour),
        NotifyBefore: durationpb.New(15 * time.Minute),
    }
    
    resp, err := client.CreateEvent(context.Background(), req)
    
    // Assert
    assert.Error(t, err)
    assert.Nil(t, resp)
    
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ gRPC ĞºĞ¾Ğ´ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
    st, ok := status.FromError(err)
    assert.True(t, ok)
    assert.Equal(t, codes.InvalidArgument, st.Code())
    assert.Contains(t, st.Message(), "title is required")
}
```

## ğŸ§ª Mock Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹

### 1. **Mock Logger**
```go
type mockLogger struct {
    debugCalled int
    infoCalled  int
    errorCalled int
    warnCalled  int
    messages    []string
}

func (m *mockLogger) Debug(msg string) {
    m.debugCalled++
    m.messages = append(m.messages, msg)
}

func (m *mockLogger) Info(msg string) {
    m.infoCalled++
    m.messages = append(m.messages, msg)
}

func (m *mockLogger) Error(msg string) {
    m.errorCalled++
    m.messages = append(m.messages, msg)
}

func (m *mockLogger) Warn(msg string) {
    m.warnCalled++
    m.messages = append(m.messages, msg)
}
```

### 2. **Mock Application**
```go
type mockApplication struct {
    createEventCalled int
    getEventCalled    int
    updateEventCalled int
    deleteEventCalled int
    listEventsCalled  int
    
    createEventError error
    getEventError    error
    getEventResult   storage.Event
    listEventsResult []storage.Event
}

func (m *mockApplication) CreateEvent(ctx context.Context, id, title, description, userID string, startTime time.Time, duration, notifyBefore calendar_types.CalendarDuration) error {
    m.createEventCalled++
    return m.createEventError
}

func (m *mockApplication) GetEventByID(ctx context.Context, id string) (storage.Event, error) {
    m.getEventCalled++
    return m.getEventResult, m.getEventError
}

func (m *mockApplication) ListEventsForDay(ctx context.Context, date time.Time) ([]storage.Event, error) {
    m.listEventsCalled++
    return m.listEventsResult, nil
}

// ... Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹
```

### 3. **Mock Storage**
```go
type mockStorage struct {
    addEventCalled    int
    updateEventCalled int
    deleteEventCalled int
    getEventCalled    int
    listEventsCalled  int
    
    addEventError    error
    updateEventError error
    deleteEventError error
    getEventError    error
    getEventResult   storage.Event
    listEventsResult []storage.Event
}

func (m *mockStorage) AddEvent(ctx context.Context, e storage.Event) error {
    m.addEventCalled++
    return m.addEventError
}

func (m *mockStorage) GetEventByID(ctx context.Context, id string) (storage.Event, error) {
    m.getEventCalled++
    return m.getEventResult, m.getEventError
}

// ... Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹
```

## ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ²

### 1. **Ğ’ÑĞµ Ñ‚ĞµÑÑ‚Ñ‹**
```bash
go test ./...
```

### 2. **ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ğ°ĞºĞµÑ‚**
```bash
go test ./internal/app/
go test ./internal/server/http/
go test ./internal/server/grpc/
```

### 3. **Ğ¡ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸ĞµĞ¼**
```bash
go test -cover ./...
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out
```

### 4. **Ğ‘ĞµĞ½Ñ‡Ğ¼Ğ°Ñ€ĞºĞ¸**
```bash
go test -bench=. ./internal/app/
```

## ğŸ”§ Manual Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### 1. **HTTP API Ñ curl**
```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
curl -X POST http://localhost:8080/events \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Team Meeting",
    "description": "Weekly team sync",
    "user_id": "user123",
    "start_time": "2025-07-15T12:00:00Z",
    "duration": "1h0m0s",
    "notify_before": "15m0s"
  }'

# ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
curl "http://localhost:8080/events/550e8400-e29b-41d4-a716-446655440000"

# ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
curl -X PUT http://localhost:8080/events/550e8400-e29b-41d4-a716-446655440000 \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Updated Meeting",
    "description": "Updated description",
    "user_id": "user123",
    "start_time": "2025-07-15T13:00:00Z",
    "duration": "2h0m0s",
    "notify_before": "30m0s"
  }'

# Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
curl -X DELETE http://localhost:8080/events/550e8400-e29b-41d4-a716-446655440000

# ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ·Ğ° Ğ´ĞµĞ½ÑŒ
curl "http://localhost:8080/events?day=2025-07-15"
```

### 2. **gRPC API Ñ grpcurl**
```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
grpcurl -plaintext -proto api/EventService.proto \
  -d '{
    "title": "Team Meeting",
    "description": "Weekly team sync",
    "user_id": "user123",
    "start_time": "2025-07-15T12:00:00Z",
    "duration": "3600s",
    "notify_before": "900s"
  }' \
  localhost:50051 calendar.EventService/CreateEvent

# ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
grpcurl -plaintext -proto api/EventService.proto \
  -d '{"id": "550e8400-e29b-41d4-a716-446655440000"}' \
  localhost:50051 calendar.EventService/GetEvent

# ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
grpcurl -plaintext -proto api/EventService.proto \
  -d '{
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "title": "Updated Meeting",
    "description": "Updated description",
    "user_id": "user123",
    "start_time": "2025-07-15T13:00:00Z",
    "duration": "7200s",
    "notify_before": "1800s"
  }' \
  localhost:50051 calendar.EventService/UpdateEvent

# Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
grpcurl -plaintext -proto api/EventService.proto \
  -d '{"id": "550e8400-e29b-41d4-a716-446655440000"}' \
  localhost:50051 calendar.EventService/DeleteEvent

# ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ·Ğ° Ğ´ĞµĞ½ÑŒ
grpcurl -plaintext -proto api/EventService.proto \
  -d '{"date": "2025-07-15T00:00:00Z"}' \
  localhost:50051 calendar.EventService/ListEventsForDay
```

## ğŸ“Š ĞŸĞ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ğ°Ğ¼Ğ¸

### 1. **Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ°**
```bash
go test -coverprofile=coverage.out ./...
go tool cover -func=coverage.out
```

### 2. **HTML Ğ¾Ñ‚Ñ‡ĞµÑ‚**
```bash
go tool cover -html=coverage.out -o coverage.html
```

### 3. **Ğ¦ĞµĞ»ĞµĞ²Ğ¾Ğµ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ**
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ
go test -cover -coverpkg=./internal/app/ ./internal/app/
go test -cover -coverpkg=./internal/server/http/ ./internal/server/http/
go test -cover -coverpkg=./internal/server/grpc/ ./internal/server/grpc/
```

## ğŸ¯ Ğ›ÑƒÑ‡ÑˆĞ¸Ğµ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞ¸

### 1. **Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚ĞµÑÑ‚Ğ¾Ğ²**
```go
func TestFunctionName_Scenario_ExpectedResult(t *testing.T) {
    // Arrange - Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    // Act - Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ
    // Assert - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
}
```

### 2. **Ğ˜Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ğ¾Ğ²**
```go
// Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾
func TestCreateEvent_Success(t *testing.T)
func TestCreateEvent_EmptyTitle_ReturnsError(t *testing.T)
func TestCreateEvent_DuplicateID_ReturnsError(t *testing.T)

// ĞŸĞ»Ğ¾Ñ…Ğ¾
func TestCreateEvent(t *testing.T)
func TestCreateEvent2(t *testing.T)
```

### 3. **Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†**
```go
func TestParseDuration(t *testing.T) {
    tests := []struct {
        name     string
        input    string
        expected time.Duration
        hasError bool
    }{
        {"valid duration", "1h30m", 90 * time.Minute, false},
        {"invalid duration", "invalid", 0, true},
        {"empty string", "", 0, true},
    }
    
    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            result, err := calendar_types.ParseDuration(tt.input)
            
            if tt.hasError {
                assert.Error(t, err)
            } else {
                assert.NoError(t, err)
                assert.Equal(t, tt.expected, result.Duration())
            }
        })
    }
}
```

## ğŸ“ Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ğ½Ğ°ÑˆĞµĞ¼ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚:

### **Unit Ñ‚ĞµÑÑ‚Ñ‹:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸
- âœ… Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- âœ… Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ
- âœ… Ğ›ĞµĞ³ĞºĞ°Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ°

### **Integration Ñ‚ĞµÑÑ‚Ñ‹:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- âœ… Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ HTTP Ğ¸ gRPC API
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ñ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ²
- âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ğ¾Ğ²

### **Manual Ñ‚ĞµÑÑ‚Ñ‹:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ñ… ÑƒÑĞ»Ğ¾Ğ²Ğ¸ÑÑ…
- âœ… ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ° Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼
- âœ… Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
- âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

Ğ­Ñ‚Ğ¾ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ½Ğ°Ğ´ĞµĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ¾Ğ´Ğ°, Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ ÑƒĞ¿Ñ€Ğ¾Ñ‰Ğ°ĞµÑ‚ Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹. 